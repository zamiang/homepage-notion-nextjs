---
/**
 * PostCard Component (Astro)
 * Displays a blog post preview with date, title, and excerpt
 */

import { format } from 'date-fns';

interface Props {
  post: {
    slug: string;
    title: string;
    date: string;
    excerpt?: string;
  };
}

const { post } = Astro.props;
const postDate = new Date(post.date);
---

<div
  class="post group rounded-lg -mx-3 px-3 py-3 transition-colors duration-200 ease-out hover:bg-muted/40"
>
  <div class="post-meta">
    <p class="post-date text-sm">
      <time datetime={postDate.toISOString().split('T')[0]}>
        {format(postDate, 'MMM d, yyyy')}
      </time>
    </p>
  </div>
  <h3 class="post-title">
    <a
      href={`/writing/${post.slug}`}
      class="focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 group-hover:text-accent transition-colors duration-150"
    >
      {post.title}
    </a>
  </h3>
  {post.excerpt && <p class="truncated-text text-muted-foreground">{post.excerpt}</p>}
</div>
